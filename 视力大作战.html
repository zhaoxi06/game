<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>视力大作战</title>
<style type="text/css">
body,ul,li{margin: 0;padding: 0;}
ul{
	width: 600px;
	height: 600px;
	margin: 20px auto;
}
li{
	list-style: none;
	float: left;
}
</style>
<script type="text/javascript" src="jquery-1.10.1.min.js"></script>
</head>
<body>
<ul>
	
</ul>

<script type="text/javascript">
$(function(){
	var units = 60;		//li的宽高
	var num = 10;		//一行20个li
	//var row = 10;		//行数
	var index = 0;		//li颜色的索引
	var bgColor = ['#7711BB','#22AA22','#66CC00','#11AACC','#445500','#33BB99'];
	var activeColor = ['#7711EE','#22AA55','#66CC33','#11AAFF','#445533','#33BB33'];
	function addColor(){
		$('ul').html('');
		var str = '';
		for(var i=0;i<num*num;i++){
			str += '<li></li>';
		}
		$('ul').html(str);
		$('li').css('width',units);
		$('li').css('height',units);

		index = Math.floor(Math.random()*bgColor.length);
		$('li').css('background',bgColor[index]);

		var active = Math.floor(Math.random()*num*num);
		$('li').eq(active).css('background',activeColor[index]);
		$('li').eq(active).addClass('active');
		if(units == 20){
			units = 20;
		}else{
			units -= 10;
			num = 600/units;
			//num = 600/units;
		}
	}
	addColor();

	$('ul').on('click','li',function(){
		if($(this).attr('class')){
			addColor();
		}else{
			alert('老咯，眼睛不行咯~');
		}
	});
});
</script>
</body>
</html>